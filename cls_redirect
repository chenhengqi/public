[root@archlinux ~]# ./test_progs -t cls_redirect
Can't find bpf_testmod.ko kernel module: -2
WARNING! Selftests relying on bpf_testmod.ko will be skipped.
[ 1027.362942] CPU 0 Unable to handle kernel paging request at virtual address fffffffffc013468, era == ffff800002009d50, ra == ffff800002009d34
[ 1027.363390] Oops[#1]:
[ 1027.363550] CPU: 0 PID: 314 Comm: test_progs Not tainted 6.7.0-rc2+ #20
[ 1027.363667] Hardware name: QEMU QEMU Virtual Machine, BIOS unknown 2/2/2022
[ 1027.363877] pc ffff800002009d50 ra ffff800002009d34 tp 9000000105e54000 sp 9000000105e57ac0
[ 1027.364079] a0 fffffffffc013468 a1 9000000105e57a78 a2 0000000000000000 a3 9000000105e57c20
[ 1027.364231] a4 9000000105e57c24 a5 0000000000000002 a6 0000000000000021 a7 0000000000000118
[ 1027.364391] t0 0000000000000110 t1 0000000000000000 t2 fffffffffc013468 t3 0038815500000000
[ 1027.364533] t4 ffffffffffffffff t5 00000017f6f91830 t6 0000000000000000 t7 0000000000000000
[ 1027.364674] t8 000000000007e600 u0 0000000000000020 s9 9000000105e57b20 s0 9000000100617600
[ 1027.364816] s1 fffffffffc013468 s2 9000000100617600 s3 9000000105e57c20 s4 9000000105e57ae0
[ 1027.364957] s5 0000000000000000 s6 900000000347f4a4 s7 9000000105e57b54 s8 9000000004666980
[ 1027.365103]    ra: ffff800002009d34 bpf_prog_846803e5ae81417f_cls_redirect+0xa0/0x590
[ 1027.365474]   ERA: ffff800002009d50 bpf_prog_846803e5ae81417f_cls_redirect+0xbc/0x590
[ 1027.365616]  CRMD: 000000b0 (PLV0 -IE -DA +PG DACF=CC DACM=CC -WE)
[ 1027.366105]  PRMD: 00000004 (PPLV0 +PIE -PWE)
[ 1027.366214]  EUEN: 00000003 (+FPE +SXE -ASXE -BTE)
[ 1027.366334]  ECFG: 00071c1c (LIE=2-4,10-12 VS=7)
[ 1027.366469] ESTAT: 00010000 [PIL] (IS= ECode=1 EsubCode=0)
[ 1027.366587]  BADV: fffffffffc013468
[ 1027.366669]  PRID: 0014c010 (Loongson-64bit, Loongson-3A5000)
[ 1027.366783] Modules linked in:
[ 1027.366877] Process test_progs (pid: 314, threadinfo=00000000fcf2a755, task=00000000691c064f)
[ 1027.367101] Stack : 9000000105cb1400 9000000004666980 9000000105e57b58 0000000000000000
[ 1027.367284]         0000000000000000 9000000105e57c24 9000000105e57c20 9000000100617600
[ 1027.367430]         0000000000000001 ffff8000131a8000 9000000105e57b80 900000000347f550
[ 1027.367574]         0000000000000000 9000000105e57b68 ffff8000131a8048 9000000003d24000
[ 1027.367718]         90000000033dfef0 0000000000000000 0000000000000000 9000000105e57b80
[ 1027.367862]         0000000000000000 0000000000000001 000000ef2b895420 0000000000000000
[ 1027.368005]         ffff8000131a8000 0000000000000000 0000000000000000 a276c8ff3acd6445
[ 1027.368138]         ffff8000131a8000 9000000004666980 9000000101ef0000 ffff8000131a8000
[ 1027.368284]         000000000000005a 9000000100617600 9000000105cb1400 9000000105cb0400
[ 1027.368425]         9000000105e57d88 0000000000000000 9000000003d24000 9000000003480784
[ 1027.368576]         ...
[ 1027.368659] Call Trace:
[ 1027.368790] [<ffff800002009d50>] bpf_prog_846803e5ae81417f_cls_redirect+0xbc/0x590
[ 1027.369168] [<900000000347f550>] bpf_test_run+0x1e4/0x2f0
[ 1027.369411] [<9000000003480784>] bpf_prog_test_run_skb+0x314/0x67c
[ 1027.369518] [<900000000264cbcc>] __sys_bpf+0x514/0x26d8
[ 1027.369618] [<900000000264f39c>] sys_bpf+0x18/0x28
[ 1027.369711] [<90000000036aab68>] do_syscall+0x7c/0x94
[ 1027.369807] [<90000000024e1b1c>] handle_syscall+0xbc/0x158
[ 1027.369939]
[ 1027.369994] Code: 0015030e  5c0009c0  5001d000 <28c00304> 02c00484  29c00304  00150009  2a42d2e4  0280200d
[ 1027.370238]
[ 1027.370449] ---[ end trace 0000000000000000 ]---
[ 1027.370760] Kernel panic - not syncing: Fatal exception in interrupt
[ 1027.371006] Kernel relocated by 0x22c0000
[ 1027.371102]  .text @ 0x90000000024c0000
[ 1027.371195]  .data @ 0x9000000003780000
[ 1027.371273]  .bss  @ 0x900000000453c800
[ 1027.371471] ---[ end Kernel panic - not syncing: Fatal exception in interrupt ]---






[root@archlinux ~]# ./test_progs -t cls_redirect
Can't find bpf_testmod.ko kernel module: -2
WARNING! Selftests relying on bpf_testmod.ko will be skipped.
[   91.372547] CPU 0 Unable to handle kernel paging request at virtual address fffffffffc0094c8, era == ffff80000200a1fc, ra == ffff80000200a1e0
[   91.372975] Oops[#1]:
[   91.373138] CPU: 0 PID: 275 Comm: test_progs Not tainted 6.7.0-rc2+ #20
[   91.373260] Hardware name: QEMU QEMU Virtual Machine, BIOS unknown 2/2/2022
[   91.373435] pc ffff80000200a1fc ra ffff80000200a1e0 tp 900000010586c000 sp 900000010586fac0
[   91.373575] a0 fffffffffc0094c8 a1 900000010586fa78 a2 0000000000000000 a3 900000010586fc20
[   91.373716] a4 900000010586fc24 a5 0000000000000002 a6 0000000000000021 a7 0000000000000118
[   91.373854] t0 0000000000000110 t1 0000000000000000 t2 fffffffffc0094c8 t3 0038be5e00000000
[   91.374002] t4 ffffffffffffffff t5 000000022c2a1704 t6 0000000000000000 t7 0000000000000000
[   91.374151] t8 0000000000038a00 u0 0000000000000020 s9 900000010586fb20 s0 90000001007a0e00
[   91.374292] s1 fffffffffc0094c8 s2 90000001007a0e00 s3 900000010586fc20 s4 900000010586fae0
[   91.374430] s5 0000000000000000 s6 900000000353f4a4 s7 900000010586fb54 s8 9000000004726980
[   91.374575]    ra: ffff80000200a1e0 bpf_prog_846803e5ae81417f_cls_redirect+0xa0/0x590
[   91.374950]   ERA: ffff80000200a1fc bpf_prog_846803e5ae81417f_cls_redirect+0xbc/0x590
[   91.375095]  CRMD: 000000b0 (PLV0 -IE -DA +PG DACF=CC DACM=CC -WE)
[   91.375569]  PRMD: 00000004 (PPLV0 +PIE -PWE)
[   91.375677]  EUEN: 00000003 (+FPE +SXE -ASXE -BTE)
[   91.375807]  ECFG: 00071c1c (LIE=2-4,10-12 VS=7)
[   91.375938] ESTAT: 00010000 [PIL] (IS= ECode=1 EsubCode=0)
[   91.376057]  BADV: fffffffffc0094c8
[   91.376141]  PRID: 0014c010 (Loongson-64bit, Loongson-3A5000)
[   91.376253] Modules linked in:
[   91.376353] Process test_progs (pid: 275, threadinfo=(____ptrval____), task=(____ptrval____))
[   91.376580] Stack : 9000000101c6f000 9000000004726980 900000010586fb58 0000000000000000
[   91.376776]         0000000000000000 900000010586fc24 900000010586fc20 90000001007a0e00
[   91.376921]         0000000000000001 ffff800013198000 900000010586fb80 900000000353f550
[   91.377060]         0000000000000000 900000010586fb68 ffff800013198048 9000000003de4000
[   91.377208]         900000000349fef0 0000000000000000 0000000000000000 900000010586fb80
[   91.377365]         0000000000000000 0000000000000001 000000153dc11bf8 0000000000000000
[   91.377509]         ffff800013198000 0000000000000000 0000000000000000 07a26015ff524529
[   91.377656]         ffff800013198000 9000000004726980 9000000101ef0000 ffff800013198000
[   91.377802]         000000000000005a 90000001007a0e00 9000000101c6f000 9000000101c6e000
[   91.377946]         900000010586fd88 0000000000000000 9000000003de4000 9000000003540784
[   91.378087]         ...
[   91.378158] Call Trace:
[   91.378294] [<ffff80000200a1fc>] bpf_prog_846803e5ae81417f_cls_redirect+0xbc/0x590
[   91.378648] [<900000000353f550>] bpf_test_run+0x1e4/0x2f0
[   91.378892] [<9000000003540784>] bpf_prog_test_run_skb+0x314/0x67c
[   91.379000] [<900000000270cbcc>] __sys_bpf+0x514/0x26d8
[   91.379095] [<900000000270f39c>] sys_bpf+0x18/0x28
[   91.379188] [<900000000376ab68>] do_syscall+0x7c/0x94
[   91.379281] [<90000000025a1b1c>] handle_syscall+0xbc/0x158
[   91.379419]
[   91.379470] Code: 0015030e  5c0009c0  5001d000 <28c00304> 02c00484  29c00304  00150009  2a42d2e4  0280200d
[   91.379704]
[   91.379844] ---[ end trace 0000000000000000 ]---
[   91.380185] Kernel panic - not syncing: Fatal exception in interrupt
[   91.380529] Kernel relocated by 0x2380000
[   91.380692]  .text @ 0x9000000002580000
[   91.380823]  .data @ 0x9000000003840000
[   91.380895]  .bss  @ 0x90000000045fc800
[   91.381092] ---[ end Kernel panic - not syncing: Fatal exception in interrupt ]---
